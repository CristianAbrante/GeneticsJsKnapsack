(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{265:function(e,t,a){e.exports=a.p+"static/media/logo-letters.18a5ff38.png"},275:function(e,t,a){e.exports=a(562)},280:function(e,t,a){},281:function(e,t,a){},409:function(e,t,a){},431:function(e,t){},433:function(e,t){},467:function(e,t){},468:function(e,t){},561:function(e,t,a){},562:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(11),s=a.n(r),l=(a(280),a(37)),o=a(38),c=a(115),m=a(105),u=a(116),d=a(266),p=a(607),g=a(564),h=a(119),v=a(590),f=a(4),b=(a(281),a(19)),E=b.object().shape({capacity:b.number().min(0,"capacity must be positive")}),y={capacity:20},I={min:1,max:10},P={value:0,weight:0},x=b.object().shape({weight:b.number().min(0,"weight must be positive").default(0),value:b.number().min(0,"value must be positive").default(0)}),k=function(){return[{value:12,weight:4},{value:10,weight:6},{value:8,weight:5},{value:11,weight:7},{value:14,weight:3},{value:7,weight:1},{value:9,weight:6}]},C=5,w=25,N={populationSize:25,crossoverType:"onePoint",selectionType:"rouletteWheel",resamplingType:"fitnessBased",crossoverParams:{numberOfCrossoverPoints:1,selectionThreshold:.5},mutation:{mutationRate:.5},numberOfGenerations:50},S=a(594),D=(a(409),a(592)),j=a(254),O=a.n(j),T=function(e){return i.a.createElement(D.a,{className:"".concat(e.classes.card," ").concat(e.selected?e.classes.selected:"")},i.a.createElement("div",null,i.a.createElement(h.a,{className:e.classes.item,variant:"overline"},"weight: ".concat(e.item.weight.toFixed(2))),i.a.createElement(h.a,{variant:"overline"},"value: ".concat(e.item.value.toFixed(2)))),e.onDeleteItem&&function(e){if(void 0!==e.onDeleteItem)return i.a.createElement(v.a,{onClick:function(){e.onDeleteItem&&e.onDeleteItem(e.index)},disabled:e.deleteDisabled,size:"small",color:"secondary"},i.a.createElement(O.a,null))}(e))};T.defaultProps={deleteDisabled:!1,selected:!1};var F=Object(f.a)(function(e){return{selected:{background:"".concat(e.palette.primary.dark," !important"),color:e.palette.getContrastText(e.palette.primary.dark)},card:{background:e.palette.primary.light,display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1),margin:e.spacing(1)},item:{marginRight:5}}})(T),W=function(e){return i.a.createElement("div",{className:"knapsack-items-container"},e.items.map(function(t,a){return i.a.createElement(F,{index:a,key:a,item:t,selected:!!e.individual&&e.individual.get(a),deleteDisabled:e.deleteDisabled,onDeleteItem:e.onDeleteItem})}))},A=a(12),R=a(26),B=function(e){return i.a.createElement(A.c,{initialValues:P,onSubmit:function(t,a){(0,a.setSubmitting)(!1),e.onSubmit(t)},validationSchema:x,render:function(){return i.a.createElement(A.b,{className:e.classes.form},i.a.createElement(A.a,{className:e.classes.field,name:"weight",label:"weight",type:"number",component:R.b,disabled:e.addDisabled,variant:"outlined"}),i.a.createElement(A.a,{className:e.classes.field,name:"value",label:"value",type:"number",component:R.b,disabled:e.addDisabled,variant:"outlined"}),i.a.createElement(v.a,{type:"submit",color:"primary",variant:"extended",disabled:e.addDisabled},"Add Item"))}})};B.defaultProps={addDisabled:!1};var G=Object(f.a)(function(e){return{form:{display:"flex",alignItems:"center"},field:{margin:e.spacing(1)}}})(B),z=Object(f.a)(function(e){return{form:{display:"flex",alignItems:"center"},field:{margin:e.spacing(1)}}})(function(e){return i.a.createElement(A.c,{initialValues:y,validationSchema:E,onSubmit:function(t,a){(0,a.setSubmitting)(!1),e.onSubmit(t)},render:function(){return i.a.createElement(A.b,{className:e.classes.form},i.a.createElement(A.a,{className:e.classes.field,name:"capacity",label:"capacity",variant:"outlined",type:"number",component:R.b}),i.a.createElement(v.a,{type:"submit",color:"primary",variant:"extended"},"Set capacity"))}})}),K=function(e){return i.a.createElement(g.a,null,i.a.createElement("div",{className:e.classes.title},i.a.createElement(h.a,{color:"primary",variant:"h5"},"Knapsack Values")),i.a.createElement(S.a,null),i.a.createElement(W,{items:e.items,onDeleteItem:e.onDeleteItem,deleteDisabled:e.deleteDisabled}),i.a.createElement(S.a,null),i.a.createElement("div",{className:e.classes.formContainer},i.a.createElement(G,{onSubmit:e.onAddItem,addDisabled:e.addDisabled}),i.a.createElement(z,{params:e.knapsackParams,onSubmit:e.onKnapsackParamsChange})))};K.defaultProps={deleteDisabled:!1,addDisabled:!1};var M=Object(f.a)(function(e){return{title:{padding:e.spacing(2)},formContainer:{margin:e.spacing(1),display:"flex",justifyContent:"space-between"}}})(K),V=a(606),J=a(608),U=Object(f.a)(function(e){return Object(V.a)({title:{padding:e.spacing(2)},formContainer:{maxWidth:400,margin:"auto",padding:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"},formItem:{margin:e.spacing(1)}})})(function(e){return i.a.createElement(g.a,null,i.a.createElement("div",{className:e.classes.title},i.a.createElement(h.a,{color:"primary",variant:"h5"},"Algorithm parameters")),i.a.createElement(S.a,null),i.a.createElement(A.c,{validationSchema:(t=e.numberOfItems,b.object().shape({populationSize:b.number().integer().min(C,"population size must be at least ".concat(C)).max(w,"population size must lower than ".concat(w)),crossoverType:b.string().matches(/onePoint|nPoints|uniform/,"invalid crossover type"),selectionType:b.string().matches(/rouletteWheel|stochastic/,"invalid selection type"),resamplingType:b.string().matches(/ageBased|fitnessBased/,"invalid resampling type"),crossoverParams:b.object({numberOfCrossoverPoints:b.number().min(1,"at least one crossover point is needed").max(t,"too many crossover points"),selectonThreshold:b.number().min(0,"must be greater than zero").max(1,"must be lower than one")}),mutation:b.object().shape({mutationRate:b.number().min(0,"must be greater than zero").max(1,"must be lower than one")}),numberOfGenerations:b.number().integer().min(0,"invalid number of generations")})),initialValues:e.algorithmParams,onSubmit:function(t,a){(0,a.setSubmitting)(!1),e.onSubmit(t)},render:function(t){var a=t.values;return i.a.createElement(A.b,{className:e.classes.formContainer},i.a.createElement(A.a,{className:e.classes.formItem,name:"populationSize",label:"Population size",variant:"outlined",type:"number",fullWidth:!0,component:R.b}),i.a.createElement(A.a,{className:e.classes.formItem,variant:"outlined",name:"crossoverType",component:R.a,fullWidth:!0,input:i.a.createElement(J.a,{name:"Select crossover method",labelWidth:300}),native:!0},i.a.createElement("option",{value:"nPoints"},"N points crossover"),i.a.createElement("option",{value:"onePoint"},"One point crossover"),i.a.createElement("option",{value:"uniform"},"Uniform crossover")),"nPoints"===a.crossoverType&&i.a.createElement(A.a,{className:e.classes.formItem,name:"crossoverParams.numberOfCrossoverPoints",label:"Number of crossover points",variant:"outlined",type:"number",fullWidth:!0,component:R.b}),"uniform"===a.crossoverType&&i.a.createElement(A.a,{className:e.classes.formItem,name:"crossoverParams.selectionThreshold",label:"selection threshold",variant:"outlined",type:"number",fullWidth:!0,component:R.b}),i.a.createElement(A.a,{className:e.classes.formItem,variant:"outlined",name:"selectionType",component:R.a,fullWidth:!0,input:i.a.createElement(J.a,{name:"Select mutation method",labelWidth:300}),native:!0},i.a.createElement("option",{value:"rouletteWheel"},"Roulette Wheel"),i.a.createElement("option",{value:"stochastic"},"Stochastic universal sampling")),i.a.createElement(A.a,{className:e.classes.formItem,variant:"outlined",name:"resamplingType",component:R.a,fullWidth:!0,input:i.a.createElement(J.a,{name:"Select resampling method",labelWidth:300}),native:!0},i.a.createElement("option",{value:"ageBased"},"Age based resampling"),i.a.createElement("option",{value:"fitnessBased"},"Fitness based resampling")),i.a.createElement(A.a,{className:e.classes.formItem,name:"mutation.mutationRate",label:"Mutation rate",variant:"outlined",type:"number",fullWidth:!0,component:R.b}),i.a.createElement(A.a,{className:e.classes.formItem,name:"numberOfGenerations",label:"Number of generations",variant:"outlined",type:"number",fullWidth:!0,component:R.b}),i.a.createElement(v.a,{variant:"extended",color:"primary",type:"submit"},"set algorithm params"))}}));var t}),$=a(163),q=a.n($),H=a(47),L=a(162),Q=a.n(L),X=a(259),Y=a.n(X),Z=a(260),_=a.n(Z),ee=a(261),te=a.n(ee),ae=a(262),ne=a.n(ae),ie=a(263),re=a.n(ie),se=a(264),le=a.n(se),oe=a(595),ce=a(596),me=a(597),ue=a(598),de=a(599),pe=Object(f.a)(function(e){return{title:{padding:e.spacing(1)},container:{width:"100%",margin:e.spacing(1)}}})(function(e){var t=e.algorithm.population.populationStatistics,a=t.averageAge,n=t.averageFitness,r=t.fittestIndividualIndex;return i.a.createElement(g.a,{className:e.classes.container},i.a.createElement(h.a,{color:"primary",className:e.classes.title,variant:"h5"},"Statistics"),i.a.createElement(S.a,null),i.a.createElement(oe.a,null,i.a.createElement(ce.a,null,i.a.createElement(me.a,null,i.a.createElement(ue.a,null,"Statistical item"),i.a.createElement(ue.a,null,"Value"))),i.a.createElement(de.a,null,i.a.createElement(me.a,null,i.a.createElement(ue.a,null,"Number of generations"),i.a.createElement(ue.a,null,e.algorithm.generations)),i.a.createElement(me.a,null,i.a.createElement(ue.a,null,"Average age"),i.a.createElement(ue.a,null,a)),i.a.createElement(me.a,null,i.a.createElement(ue.a,null,"Average fitness"),i.a.createElement(ue.a,null,n)),i.a.createElement(me.a,null,i.a.createElement(ue.a,null,"fittest individual index"),i.a.createElement(ue.a,null,r)))))}),ge=a(593),he=a(600),ve=a(601),fe=(a(561),Object(f.a)(function(e){return{title:{padding:e.spacing(1)},container:{width:"100%",margin:e.spacing(1)},listStyles:{display:"flex"},item:{display:"flex",justifyContent:"center",border:"1px solid ".concat(e.palette.divider)}}})(function(e){return i.a.createElement(g.a,{className:e.classes.container},i.a.createElement(h.a,{color:"primary",className:e.classes.title,variant:"h5"},"Population"),i.a.createElement(S.a,null),i.a.createElement("div",null,i.a.createElement(ge.a,{className:"population-list",dense:!0},e.population.getPopulationItems().map(function(t,a){return i.a.createElement(he.a,{key:a},i.a.createElement(ve.a,{className:e.classes.item,primary:t.individual.toString()}))}))))}));var be=Object(f.a)(function(e){return{individualContainer:{paddingTop:e.spacing(2)},individual:{display:"flex",justifyContent:"center"},individualGene:{border:"1px solid ".concat(e.palette.divider),padding:e.spacing(2)},individualInfoContainer:{display:"flex",justifyContent:"center","& *":{margin:e.spacing(1)}}}})(function(e){var t=function(e,t){var a=0,n=0;return e.forEach(function(e,i){if(e){var r=t[i];a+=r.value,n+=r.weight}}),{value:a,weight:n}}(e.fittestIndividual,e.items);return i.a.createElement(g.a,null,i.a.createElement("div",{className:e.classes.individualContainer},i.a.createElement("div",{className:e.classes.individual},e.fittestIndividual.genotype.map(function(t,a){return i.a.createElement("div",{className:e.classes.individualGene,key:a},t?"1":"0")})),i.a.createElement("div",{className:e.classes.individualInfoContainer},i.a.createElement(h.a,{variant:"h6"},"Weight: ".concat(t.weight.toFixed(4))),i.a.createElement(h.a,{variant:"h6"},"Value: ".concat(t.value.toFixed(4))))),i.a.createElement(S.a,null),i.a.createElement("div",null,i.a.createElement(W,{individual:e.fittestIndividual,items:e.items})))}),Ee=Object(f.a)(function(e){return{container:{display:"flex",justifyContent:"center",marginTop:e.spacing(1),"& *":{margin:e.spacing(1)}}}})(function(e){return i.a.createElement(g.a,{className:e.classes.container},i.a.createElement(v.a,{variant:"extended",color:"primary",onClick:e.onRunClick},e.nextGenerationDisabled?"stop algorithm":"run algorithm"),i.a.createElement(v.a,{onClick:e.onNextGenerationClick,variant:"extended",color:"primary",disabled:e.nextGenerationDisabled},"next generation"))}),ye=a(46),Ie=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).timer=void 0,a.algorithm=void 0,a.fitnessFunction=function(e){var t=0,n=0;return e.forEach(function(e,i){if(e){var r=a.props.items[i];t+=r.weight,n+=r.value}}),t<=a.props.knapsackParams.capacity?n:0},a.constructParams=function(e){var t,n,i=e.algorithmParams.populationSize,r=e.algorithmParams.crossoverParams,s=r.numberOfCrossoverPoints,l=r.selectionThreshold;switch(e.algorithmParams.crossoverType){case"onePoint":t=new H.OnePointCrossover,n={engine:ye.nativeMath,individualConstructor:H.BinaryIndividual};break;case"nPoints":t=new H.NPointsCrossover,n={engine:ye.nativeMath,individualConstructor:H.BinaryIndividual,numberOfCrossoverPoints:s};break;case"uniform":t=new H.UniformCrossover,n={engine:ye.nativeMath,individualConstructor:H.BinaryIndividual,selectionThreshold:l}}return{populationSize:i,generator:new Q.a,generatorParams:{chance:.3,engine:ye.nativeMath,length:e.items.length},selection:new Y.a,selectionParams:{engine:ye.nativeMath,selectionCount:i,subSelection:"rouletteWheel"===e.algorithmParams.selectionType?new te.a:new _.a},crossover:t,crossoverParams:n,mutation:new H.BitwiseMutation,mutationParams:{engine:ye.nativeMath,mutationRate:e.algorithmParams.mutation.mutationRate},replacement:"fitnessBased"===e.algorithmParams.resamplingType?new ne.a:new re.a,replacementParams:{selectionCount:i},fitnessFunction:a.fitnessFunction,terminationCondition:new le.a(e.algorithmParams.numberOfGenerations)}},a.getItem=function(e){var t=e.getFittestIndividualItem();return t?t.individual.toString():"no individual"},a.nextGeneration=function(){a.algorithm.nextGeneration(),a.setState({algorithm:a.algorithm})},a.onRunClick=function(){a.state.algorithmIsRunning?(clearInterval(a.timer),a.setState({algorithmIsRunning:!1})):(a.timer=setInterval(a.nextGeneration,50),a.setState({algorithmIsRunning:!0}))};var n=a.constructParams(e);return a.algorithm=new q.a(n),a.state={algorithmIsRunning:!1,algorithm:new q.a(n)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.algorithm.population;return i.a.createElement("div",null,i.a.createElement("div",{className:this.props.classes.infoContainer},i.a.createElement(pe,{algorithm:this.state.algorithm}),i.a.createElement(fe,{population:e})),i.a.createElement(be,{items:this.props.items,fittestIndividual:e.getFittestIndividualItem().individual}),i.a.createElement("div",null,i.a.createElement(Ee,{onRunClick:this.onRunClick,onNextGenerationClick:this.nextGeneration,nextGenerationDisabled:this.state.algorithmIsRunning})))}}]),t}(i.a.Component),Pe=Object(f.a)(function(e){return{infoContainer:{display:"flex",justifyContent:"space-around"}}})(Ie),xe=a(265),ke=a.n(xe),Ce=a(602),we=Object(d.a)({palette:{primary:{main:"#356759",light:"#F2F5DF",dark:"#38966F"},secondary:{main:"#F15324"},background:{default:"#DEF3E5",paper:"#FEFBE6"},divider:"#38966F"}}),Ne=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).getDefaultState=function(){return{knapsackParams:y,items:k(),algorithmParams:N,algorithmIsExecuting:!1}},a.state=a.getDefaultState(),a.onAddKnapsackItem=function(e){a.setState(function(t){return{items:t.items.concat(e)}})},a.onDeleteKnapsackItem=function(e){a.setState(function(t){return{items:t.items.filter(function(t,a){return e!==a})}})},a.onKnapsackParamsChange=function(e){return a.setState({knapsackParams:e})},a.isAddItemDisabled=function(){return a.state.items.length>=I.max},a.isDeleteItemDisabled=function(){return a.state.items.length<=I.min},a.onAlgorithmParamsChange=function(e){console.log(e),a.setState({algorithmParams:e})},a.onExecuteAlgorithmPlay=function(){a.state.algorithmIsExecuting?a.setState(function(e){return a.getDefaultState()}):a.setState({algorithmIsExecuting:!0})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement(Ce.a,{theme:we},i.a.createElement(p.a,null),i.a.createElement("div",{className:this.props.classes.container},i.a.createElement(g.a,{className:this.props.classes.title},i.a.createElement("div",{className:this.props.classes.logoContainer},i.a.createElement("img",{className:this.props.classes.logo,src:ke.a,alt:"geneticsjs"})),i.a.createElement("div",{className:this.props.classes.logoTitle},i.a.createElement(h.a,{variant:"h6",color:"primary"},"Knapsack problem simulator with genetic algorithms"))),!this.state.algorithmIsExecuting&&i.a.createElement(i.a.Fragment,null,i.a.createElement(M,{items:this.state.items,knapsackParams:this.state.knapsackParams,addDisabled:this.isAddItemDisabled(),deleteDisabled:this.isDeleteItemDisabled(),onAddItem:this.onAddKnapsackItem,onDeleteItem:this.onDeleteKnapsackItem,onKnapsackParamsChange:this.onKnapsackParamsChange}),i.a.createElement(U,{numberOfItems:this.state.items.length,algorithmParams:this.state.algorithmParams,onSubmit:this.onAlgorithmParamsChange})),this.state.algorithmIsExecuting&&i.a.createElement(Pe,{knapsackParams:this.state.knapsackParams,algorithmParams:this.state.algorithmParams,items:this.state.items}),i.a.createElement(g.a,{className:this.props.classes.actionButtonContainer},i.a.createElement(v.a,{variant:"extended",color:this.state.algorithmIsExecuting?"secondary":"primary",onClick:this.onExecuteAlgorithmPlay},this.state.algorithmIsExecuting?"Reset":"execute algorithm"))))}}]),t}(i.a.Component),Se=Object(f.a)(function(e){return{logoContainer:{margin:"auto"},logo:{display:"block",margin:"auto",width:300},logoTitle:{display:"flex",justifyContent:"center"},title:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},container:{maxWidth:1e3,margin:"auto"},knapsackFormContainer:{display:"flex",justifyContent:"space-between",padding:e.spacing(3)},actionButtonContainer:{display:"flex",justifyContent:"center",marginTop:e.spacing(1),padding:e.spacing(1)}}})(Ne);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(Se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[275,1,2]]]);
//# sourceMappingURL=main.89cd29d9.chunk.js.map